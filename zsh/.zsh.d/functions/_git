#compdef git gitk

source /usr/local/share/zsh/site-functions/_git

# Overwrite original definition of _git_checkout, in order to skip
# enumerating remote branches when completing branch names.
#
# Original definition is found at:
# - "/usr/local/share/zsh/site-functions/git-completion.bash",
# which is loaded in:
# - "/usr/local/share/zsh/site-functions/_git",

_git_checkout () {
    __git_has_doubledash && return
    case "$cur" in
        --conflict=*)
            __gitcomp "diff3 merge" "" "${cur##--conflict=}"
            ;;
        --*)
            __gitcomp "
            --quiet --ours --theirs --track --no-track --merge
            --conflict= --orphan --patch
            "
            ;;
        *)
            __gitcomp_nl "$(__git_heads)"
            ;;
    esac
}

_git
